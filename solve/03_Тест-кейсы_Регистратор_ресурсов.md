Тест-кейсы

Предусловия общие
— Файл модели выбран и доступен для записи/чтения.
— Модель инициализирована количеством ресурсов N (пример: N=3), каждый ресурс имеет ёмкость c[i]. Размер запроса s задаётся при вызове REQUEST.

Обозначения
— c[i] — ёмкость ресурса i (i начинается с 1); s — размер запроса.
— Состояния: F — свободен, B — занят.

TC-01 REQUEST: есть свободные, c ≥ s
Шаги: (1) Установить c = [2,1,3], состояния = [F,F,B]; s=1; (2) Ввести REQUEST.
Ожидаемо: возвращён id=1 (первый свободный, удовлетворяющий c ≥ 1).

TC-02 REQUEST: пропуск занятых
Шаги: состояния = [B,F,F]; c=[2,2,2]; s=2; REQUEST.
Ожидаемо: id=2.

TC-03 REQUEST: нет подходящих по c
Шаги: c=[1,1,1]; состояния=[F,F,F]; s=2; REQUEST.
Ожидаемо: исключение ResAreBusy (по сути — «нет подходящих/все заняты для s»).

TC-04 OCCUPY: успешное занятие
Шаги: состояния=[F,F,F]; OCCUPY 2.
Ожидаемо: состояния→[F,B,F]; подтверждающее сообщение.

TC-05 OCCUPY: уже занят
Шаги: состояния=[F,B,F]; OCCUPY 2.
Ожидаемо: ResIsBusy; сообщение «ресурс уже занят».

TC-06 FREE: успешное освобождение
Шаги: состояния=[B,F,F]; FREE 1.
Ожидаемо: состояния→[F,F,F]; подтверждающее сообщение.

TC-07 FREE: уже свободен
Шаги: состояния=[F,F,F]; FREE 1.
Ожидаемо: ResWasFree; сообщение «Ресурс был свободен».

TC-08 Невалидный id: отрицательный/0
Шаги: OCCUPY 0; затем FREE -1.
Ожидаемо: ResIdInvalid для обеих операций.

TC-09 Невалидный id: > N
Шаги: при N=3, OCCUPY 4.
Ожидаемо: ResIdInvalid.

TC-10 REQUEST: все заняты
Шаги: состояния=[B,B,B]; c=[5,5,5]; s=1; REQUEST.
Ожидаемо: ResAreBusy; сообщение «Все ресурсы заняты».

TC-11 Пустой ввод завершает работу
Шаги: Нажать ENTER на запрос команды.
Ожидаемо: приложение завершает работу без ошибок.

TC-12 Сохранение модели по циклу
Шаги: Выполнить OCCUPY 1; завершить приложение; перезапустить; выбрать тот же файл модели.
Ожидаемо: состояния восстановлены, ресурс 1 занят.

TC-13 Выбор стандартного файла Resmod00
Шаги: Подтвердить использование существующего стандартного файла.
Ожидаемо: работа продолжается; модель загружена/инициализирована.

TC-14 Создание стандартного файла
Шаги: При отсутствии Resmod00 согласиться на создание; ввести N=3.
Ожидаемо: создан файл; все ресурсы F.

TC-15 Выбор нестандартного файла (существующего)
Шаги: Ввести путь к существующему файлу модели.
Ожидаемо: модель загружается; работа продолжается.

TC-16 Выбор нестандартного файла (несуществующего)
Шаги: Ввести путь к несуществующему файлу; согласиться на инициализацию; ввести N.
Ожидаемо: модель инициализирована; файл будет создан при первом сохранении.

TC-17 Вариант №1: c ≥ s — граничное равенство
Шаги: c=[2,2,2]; s=2; REQUEST.
Ожидаемо: выдан первый свободный ресурс.

TC-18 Вариант №1: c < s — отказ
Шаги: c=[1,1,1]; s=2; REQUEST.
Ожидаемо: ResAreBusy.

TC-19 Неделимость запроса
Шаги: c=[1,1,1]; s=2; попытка «занять два ресурса по одному» недопустима в рамках варианта — проверяется отсутствием сценария частичного удовлетворения в интерфейсе.
Ожидаемо: отсутствует поддержка деления запроса; REQUEST завершится ResAreBusy.


